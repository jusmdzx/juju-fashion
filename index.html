<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinnamon Roses Store</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <nav>
        <span class="logo-menu">CINNAMON.ROSES</span>
        
        <div class="cart-icon" onclick="abrirCarrinho()">
            <i class="fa-solid fa-shopping-bag"></i>
            <span id="contagem-carrinho">0</span>
        </div>
    </nav>

    <header>
        <h1>Cinnamon Roses</h1>
        <p>Dark Aesthetic & Vintage Soul</p>

        <div class="filtros">
            <button class="btn-filtro ativo" onclick="filtrar('todos')">Todos</button>
            <button class="btn-filtro" onclick="filtrar('Tops')">Tops</button>
            <button class="btn-filtro" onclick="filtrar('Bottoms')">Bottoms</button>
            <button class="btn-filtro" onclick="filtrar('Acess√≥rios')">Acess√≥rios</button>
        </div>
    </header>

    <div class="container" id="vitrine"></div>

    <div id="modal-carrinho" class="modal">
        <div class="modal-content">
            <span class="fechar" onclick="fecharCarrinho()">&times;</span>
            <h2>Seu Carrinho ü•Ä</h2>
            <div id="itens-carrinho">
                <p>Seu carrinho est√° vazio.</p>
            </div>
            <div class="total-carrinho">
                Total: <span id="valor-total">R$ 0,00</span>
            </div>
            <button class="btn-finalizar" onclick="finalizarPedido()">Finalizar no WhatsApp</button>
        </div>
    </div>

    <div id="toast">Item adicionado ao carrinho</div>

    <script>
        // --- DADOS DOS PRODUTOS ---
        const roupasDark = [
            {
                "id": 1,
                "title": "Minissaia Cybergrunge Cruz",
                "price": 189.90,
                "category": "Bottoms",
                "image": "https://i.pinimg.com/736x/c2/95/62/c295628a21671726bba9e649a7706753.jpg"
            },
            {
                "id": 2,
                "title": "Top Tube G√≥tico Drapeado",
                "price": 89.90,
                "category": "Tops",
                "image": "https://i.pinimg.com/736x/54/47/21/544721f41a6d614eaef43000c980bf58.jpg"
            },
            {
                "id": 3,
                "title": "Top Renda Dark Coquette",
                "price": 99.90,
                "category": "Tops",
                "image": "https://i.pinimg.com/736x/d6/3a/b3/d63ab33beaeceb6aefdc4150362baa07.jpg"
            },
            {
                "id": 4,
                "title": "Baby Tee Deftones Gothic",
                "price": 79.90,
                "category": "Tops",
                "image": "https://i.pinimg.com/736x/c5/a2/ce/c5a2ce8b35cea4fee0d795133f2633be.jpg"
            },
            {
                "id": 5,
                "title": "Kit An√©is Prata Boho (5 un)",
                "price": 49.90,
                "category": "Acess√≥rios",
                "image": "https://i.pinimg.com/736x/39/f0/3d/39f03d6a590c9d47c789769694239a1e.jpg"
            },
            {
                "id": 6,
                "title": "Cal√ßa Jeans Flare Lace-Up",
                "price": 159.90,
                "category": "Bottoms",
                "image":"https://i.pinimg.com/736x/ac/6c/45/ac6c45944f00125cc2a48aaba033b72f.jpg"
            }
        ];

        let carrinho = [];

        // --- FUN√á√ÉO 1: EXIBIR VITRINE ---
        function carregarVitrine(filtro = 'todos') {
            const vitrine = document.getElementById('vitrine');
            vitrine.innerHTML = '';

            const produtosFiltrados = filtro === 'todos' 
                ? roupasDark 
                : roupasDark.filter(p => p.category === filtro);

            produtosFiltrados.forEach(produto => {
                const preco = produto.price.toFixed(2).replace('.', ',');
                
                const card = `
                    <div class="produto-card">
                        <img src="${produto.image}" alt="${produto.title}">
                        <div class="info">
                            <h3>${produto.title}</h3>
                            <div class="preco">R$ ${preco}</div>
                            <button onclick="adicionarAoCarrinho(${produto.id})">
                                Adicionar ao Carrinho ‚úö
                            </button>
                        </div>
                    </div>
                `;
                vitrine.innerHTML += card;
            });
        }

        // --- FUN√á√ÉO 2: NOTIFICA√á√ÉO TOAST (NOVO!) ---
        function mostrarAviso(mensagem) {
            const toast = document.getElementById("toast");
            toast.innerText = mensagem;
            toast.className = "mostrar"; // Faz aparecer
            
            // Faz sumir depois de 3 segundos
            setTimeout(function(){ toast.className = toast.className.replace("mostrar", ""); }, 3000);
        }

        // --- FUN√á√ÉO 3: L√ìGICA DO CARRINHO ---
        function adicionarAoCarrinho(id) {
            const produto = roupasDark.find(p => p.id === id);
            carrinho.push(produto);
            atualizarCarrinhoUI();
            
            // Aqui chamamos o aviso chique em vez do alert
            mostrarAviso(`${produto.title} adicionado üåπ`);
        }

        function atualizarCarrinhoUI() {
            document.getElementById('contagem-carrinho').innerText = carrinho.length;
            const lista = document.getElementById('itens-carrinho');
            lista.innerHTML = '';
            let total = 0;

            carrinho.forEach((item, index) => {
                total += item.price;
                lista.innerHTML += `
                    <div style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px solid #333; padding-bottom:5px;">
                        <span>${item.title}</span>
                        <span style="color: var(--destaque)">R$ ${item.price.toFixed(2)}</span>
                        <span style="cursor:pointer; color:red;" onclick="removerDoCarrinho(${index})">‚úñ</span>
                    </div>
                `;
            });

            if(carrinho.length === 0) lista.innerHTML = '<p>Seu carrinho est√° vazio.</p>';
            document.getElementById('valor-total').innerText = 'R$ ' + total.toFixed(2).replace('.', ',');
        }

        function removerDoCarrinho(index) {
            carrinho.splice(index, 1);
            atualizarCarrinhoUI();
        }

        function finalizarPedido() {
            if (carrinho.length === 0) {
                mostrarAviso("Seu carrinho est√° vazio! ü•Ä");
                return;
            }

            let mensagem = "Ol√°! Gostaria de fazer um pedido na Cinnamon Roses: \n\n";
            let total = 0;

            carrinho.forEach(item => {
                mensagem += `- ${item.title} (R$ ${item.price.toFixed(2)})\n`;
                total += item.price;
            });

            mensagem += `\n*Total: R$ ${total.toFixed(2)}*`;
            const link = `https://wa.me//5587999999999?text=${encodeURIComponent(mensagem)}`;
            window.open(link, '_blank');
        }

        function abrirCarrinho() { document.getElementById('modal-carrinho').style.display = 'block'; }
        function fecharCarrinho() { document.getElementById('modal-carrinho').style.display = 'none'; }
        
        function filtrar(categoria) {
            document.querySelectorAll('.btn-filtro').forEach(btn => btn.classList.remove('ativo'));
            event.target.classList.add('ativo');
            carregarVitrine(categoria);
        }

        carregarVitrine();
    </script>
</body>
</html>